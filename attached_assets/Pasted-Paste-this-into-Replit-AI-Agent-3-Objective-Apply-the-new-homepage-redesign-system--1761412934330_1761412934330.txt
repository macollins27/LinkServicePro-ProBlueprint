Paste this into Replit AI Agent 3.

---

## Objective

Apply the new homepage redesign system across the **Features** area. Ship:

1. A new **All Features** index page.
2. A reusable **Feature Detail** template and one example feature page.
3. Data-driven content so adding features is one line of JSON.

Mobile-first. Sharp corners. High contrast. One primary action per section. Respect `prefers-reduced-motion`.

---

## Global rules

* Use existing design tokens, typography, spacing, and the `SectionHeader` component already added.
* Every section starts with **Title + Subtitle** at the **top-left**.
* Links use right→left underline animation.
* No horizontal scroll at 375px.
* Keep shadows to `elev-2`. Rectangle buttons. Bold labels.
* AA contrast. Proper semantics. Focus-visible rings.

---

## 0) Data model

**Create:** `src/data/features.json`

```json
[
  {
    "slug": "drag-and-drop-scheduling",
    "name": "Drag-and-drop Scheduling",
    "cluster": "Get Organized",
    "hook": "Move jobs around your calendar in seconds.",
    "bullets": [
      "Day, week, and crew views",
      "Capacity view prevents overbooking"
    ],
    "kpis": [
      {"label": "Drive time", "value": "−18%"},
      {"label": "On-time", "value": "96%"}
    ],
    "heroSubtitle": "Schedule faster and keep crews in sync.",
    "how": [
      {"step": "Create job", "desc": "Add the job from web or mobile."},
      {"step": "Place on calendar", "desc": "Drag to day and assign a crew."},
      {"step": "Notify customer", "desc": "Auto SMS/email with arrival window."}
    ],
    "proof": {
      "quote": "“We reshuffled routes in minutes and cut callbacks.”",
      "person": "Mike R., HVAC"
    },
    "integrations": ["QuickBooks","Xero"],
    "related": ["dispatch-board","route-optimization"]
  },
  {
    "slug": "dispatch-board",
    "name": "Dispatch Board + Live Map",
    "cluster": "Work Smarter",
    "hook": "See every crew on one screen.",
    "bullets": [
      "Live GPS and traffic-aware ETA",
      "Route changes auto-notify techs"
    ],
    "kpis": [{"label":"Same-day jobs","value":"+23%"}],
    "heroSubtitle": "Real-time command center for busy days.",
    "how": [
      {"step":"Assign","desc":"Drag jobs to available techs."},
      {"step":"Optimize","desc":"Auto-sort stops to cut windshield time."},
      {"step":"Track","desc":"See arrival, job start, and wrap-up live."}
    ],
    "proof":{"quote":"“No more ‘where are you?’ calls.”","person":"Sarah K., Plumbing"},
    "integrations": ["PropertyLinkWare"],
    "related": ["drag-and-drop-scheduling","route-optimization"]
  },
  {
    "slug": "route-optimization",
    "name": "Route Optimization",
    "cluster": "Win & Deliver",
    "hook": "Shortest routes. More jobs per tech.",
    "bullets": ["One tap optimize","Avoids traffic and window conflicts"],
    "kpis": [{"label":"Jobs/tech/day","value":"+1.3"}],
    "heroSubtitle": "Hit more stops without overtime.",
    "how":[
      {"step":"Plan","desc":"Select today’s jobs and constraints."},
      {"step":"Optimize","desc":"We build the fastest route."},
      {"step":"Dispatch","desc":"Send to tech with turn-by-turn."}
    ],
    "proof":{"quote":"“We added an extra stop per tech.”","person":"Luis P., Cleaning"},
    "integrations": ["LinkInspectPro"],
    "related": ["dispatch-board"]
  }
]
```

> Add more features later by appending objects with the same shape. Clusters must be one of: **Get Organized**, **Work Smarter**, **Win & Deliver**, **Get Paid & Operate**.

---

## 1) All Features page

**Create:** `src/pages/features/index.jsx`

```jsx
import features from "@/data/features.json";
import SectionHeader from "@/components/SectionHeader";
import { useMemo, useState } from "react";

const CLUSTERS = ["Get Organized","Work Smarter","Win & Deliver","Get Paid & Operate"];

function Card({ f }) {
  return (
    <a href={`/features/${f.slug}`} className="bg-white ring-1 ring-slate-200 p-5 sm:p-6 elev-2 block focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#0B5FFF]">
      <div className="flex items-start gap-3">
        <span className="h-6 w-6 bg-slate-900" aria-hidden="true" />
        <div>
          <div className="font-extrabold text-slate-900">{f.name}</div>
          <div className="text-slate-700 text-sm">{f.hook}</div>
        </div>
      </div>
      <ul className="mt-3 text-sm text-slate-700 list-disc pl-5 space-y-1">
        {f.bullets.slice(0,2).map((b,i)=><li key={i}>{b}</li>)}
      </ul>
      <div className="mt-4 inline-flex font-semibold text-[#0B5FFF] underline decoration-transparent hover:decoration-[#0B5FFF] underline-offset-4">
        See how it works →
      </div>
    </a>
  );
}

export default function AllFeatures() {
  const [q,setQ] = useState("");
  const data = useMemo(()=> features.filter(f =>
    (f.name+f.hook+f.cluster).toLowerCase().includes(q.toLowerCase())), [q]);

  return (
    <main className="px-4 sm:px-6 lg:px-8 py-12 sm:py-16">
      <SectionHeader
        title="All Features"
        subtitle="Everything your team needs to schedule work, deliver fast, and get paid."
      />
      <label className="block max-w-xl">
        <span className="sr-only">Search features</span>
        <input
          value={q}
          onChange={e=>setQ(e.target.value)}
          placeholder="Search features"
          className="w-full border border-slate-300 px-4 py-3 rounded-none"
        />
      </label>

      {CLUSTERS.map(cluster => {
        const items = data.filter(f => f.cluster === cluster);
        if(!items.length) return null;
        return (
          <section key={cluster} className="mt-8 sm:mt-10">
            <h3 className="text-lg sm:text-xl font-extrabold text-slate-900">{cluster}</h3>
            <div className="mt-3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
              {items.map(f => <Card key={f.slug} f={f}/>)}
            </div>
          </section>
        );
      })}
    </main>
  );
}
```

**Behavior**

* Title + Subtitle at top-left.
* Search filter (client-side).
* Grouped by cluster with consistent cards.
* Mobile: single-column; desktop: 2–3 columns.

---

## 2) Feature Detail template

**Create:** `src/components/FeatureLayout.jsx`

```jsx
import SectionHeader from "@/components/SectionHeader";

export default function FeatureLayout({ title, subtitle, children }) {
  return (
    <main className="px-4 sm:px-6 lg:px-8 py-12 sm:py-16">
      <SectionHeader title={title} subtitle={subtitle} />
      {children}
    </main>
  );
}
```

**Create:** `src/components/FeatureBlocks.jsx`

```jsx
export function HeroStatRow({ kpis=[] }) {
  if(!kpis.length) return null;
  return (
    <div className="mt-4 grid grid-cols-3 gap-3 text-center text-sm">
      {kpis.map((k,i)=>(
        <div key={i} className="border border-slate-200 px-3 py-2">
          <div className="font-extrabold text-slate-900">{k.value}</div>
          <div className="text-slate-600">{k.label}</div>
        </div>
      ))}
    </div>
  );
}

export function HowItWorks({ items=[] }) {
  if(!items.length) return null;
  return (
    <section className="mt-8 sm:mt-10">
      <h3 className="text-lg sm:text-xl font-extrabold text-slate-900">How it works</h3>
      <ol className="mt-3 grid grid-cols-1 sm:grid-cols-3 gap-4">
        {items.map((s,i)=>(
          <li key={i} className="bg-white ring-1 ring-slate-200 p-5 elev-2">
            <div className="text-slate-500 text-xs">Step {i+1}</div>
            <div className="font-extrabold text-slate-900">{s.step}</div>
            <p className="text-slate-700 text-sm">{s.desc}</p>
            <div className="h-24 bg-slate-100 mt-3" aria-hidden="true" />
          </li>
        ))}
      </ol>
    </section>
  );
}

export function Proof({quote, person}) {
  if(!quote) return null;
  return (
    <section className="mt-8 sm:mt-10">
      <h3 className="text-lg sm:text-xl font-extrabold text-slate-900">In the field</h3>
      <blockquote className="bg-white ring-1 ring-slate-200 p-5 elev-2 text-slate-800">
        {quote}
        <footer className="text-sm text-slate-600 mt-2">— {person}</footer>
      </blockquote>
    </section>
  );
}

export function WorksWith({ list=[] }) {
  if(!list.length) return null;
  return (
    <section className="mt-8 sm:mt-10">
      <h3 className="text-lg sm:text-xl font-extrabold text-slate-900">Works with</h3>
      <div className="mt-3 grid grid-cols-3 sm:grid-cols-6 gap-3">
        {list.map(x=>(
          <div key={x} className="bg-white ring-1 ring-slate-200 p-3 elev-2 text-center text-sm font-semibold text-slate-900">{x}</div>
        ))}
      </div>
    </section>
  );
}

export function Related({ items=[] }) {
  if(!items.length) return null;
  return (
    <section className="mt-8 sm:mt-10">
      <h3 className="text-lg sm:text-xl font-extrabold text-slate-900">Related features</h3>
      <div className="mt-3 grid grid-cols-1 sm:grid-cols-3 gap-4">
        {items.map(f=>(
          <a key={f.slug} href={`/features/${f.slug}`} className="bg-white ring-1 ring-slate-200 p-5 elev-2 block">
            <div className="font-extrabold text-slate-900">{f.name}</div>
            <div className="text-slate-700 text-sm">{f.hook}</div>
            <div className="mt-3 inline-flex text-[#0B5FFF] font-semibold underline decoration-transparent hover:decoration-[#0B5FFF] underline-offset-4">
              See how it works →
            </div>
          </a>
        ))}
      </div>
    </section>
  );
}

export function CTA() {
  return (
    <section className="mt-10 sm:mt-12 bg-slate-50 px-5 py-6 text-center">
      <div className="text-2xl font-extrabold text-slate-900">Ready to try it?</div>
      <p className="text-slate-700">Simple pricing. No contracts.</p>
      <div className="mt-3 flex justify-center gap-3">
        <a href="/pricing" className="px-5 py-3 bg-slate-900 text-white font-extrabold rounded-none">View Pricing</a>
        <a href="/signup" className="px-5 py-3 font-extrabold border border-slate-900 rounded-none">Start Free</a>
      </div>
    </section>
  );
}
```

---

## 3) Dynamic feature route

**Create:** `src/pages/features/[slug].jsx`

```jsx
import features from "@/data/features.json";
import FeatureLayout from "@/components/FeatureLayout";
import { HeroStatRow, HowItWorks, Proof, WorksWith, Related, CTA } from "@/components/FeatureBlocks";

export default function Feature({ f, related }) {
  if(!f) return null;
  return (
    <FeatureLayout title={f.name} subtitle={f.heroSubtitle}>
      {/* Top hero block with bullets + KPIs */}
      <section className="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 items-start">
        <article className="bg-white ring-1 ring-slate-200 p-6 sm:p-8 elev-2">
          <h3 className="text-lg sm:text-xl font-extrabold text-slate-900">What it does</h3>
          <ul className="mt-3 list-disc pl-5 text-slate-700 space-y-1">
            {f.bullets.map((b,i)=><li key={i}>{b}</li>)}
          </ul>
          <HeroStatRow kpis={f.kpis} />
        </article>
        <aside className="bg-white ring-1 ring-slate-200 p-6 sm:p-8 elev-2">
          <div className="h-48 bg-slate-100" aria-hidden="true" />
          <p className="text-slate-600 text-sm mt-2">Mockup—replace with final art.</p>
        </aside>
      </section>

      <HowItWorks items={f.how} />
      <Proof quote={f.proof?.quote} person={f.proof?.person} />
      <WorksWith list={f.integrations} />
      <Related items={related} />
      <CTA />
    </FeatureLayout>
  );
}

export async function getStaticProps({ params }) {
  const f = features.find(x => x.slug === params.slug) || null;
  const related = (f?.related || [])
    .map(slug => features.find(x => x.slug === slug))
    .filter(Boolean)
    .slice(0,3);
  return { props: { f, related } };
}

export async function getStaticPaths() {
  return { paths: features.map(f => ({ params: { slug: f.slug } })), fallback: false };
}
```

> If your stack is not Next.js, adapt routing to your framework. Keep the component tree and props intact.

---

## 4) Navigation updates

* Add a **Features** link to `/features`.
* On the mega menu, mirror the four clusters using the same `features.json` groupings. Each item links to its detail route.

---

## 5) SEO/meta per feature (optional but recommended)

**Create:** `src/components/SeoHead.jsx`

```jsx
export default function SeoHead({ title, description }) {
  return (
    <>
      <title>{title}</title>
      <meta name="description" content={description} />
      <meta property="og:title" content={title} />
      <meta property="og:description" content={description} />
    </>
  );
}
```

Use on feature pages with:

```jsx
// inside Feature component
// <SeoHead title={`${f.name} • LinkServicePro`} description={f.hook} />
```

---

## 6) Consistency guardrails

* Every section on **All Features** and **Feature Detail** pages begins with **SectionHeader** Title + Subtitle at the **top-left**.
* Card elevation: `elev-2` only. No extra depths.
* Buttons: rectangle, bold. Links use underline animation.
* Charts/illustrations use fixed heights to prevent CLS.
* One primary action per page: “Start Free” plus one secondary link “View Pricing”.

---

## 7) Acceptance checklist

* `/features` renders grouped grid, searchable; mobile 1-col, desktop 2–3 col.
* `/features/[slug]` uses the template with: What it does, KPIs, visual mock, How it works (3 steps), In the field quote, Works with, Related features, CTA band.
* No horizontal scroll at 375px. All text readable ≤ 36-char lines on mobile.
* Lighthouse: Perf ≥90, A11y ≥95, Best Practices ≥95.

Implement exactly as specified.
